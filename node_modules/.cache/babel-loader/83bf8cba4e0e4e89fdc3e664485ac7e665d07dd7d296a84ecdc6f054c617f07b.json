{"ast":null,"code":"import _classPrivateFieldLooseBase from\"E:/STAY-NOVA/stay-nova/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";import _classPrivateFieldLooseKey from\"E:/STAY-NOVA/stay-nova/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";var _class;var _API_CONFIG=/*#__PURE__*/_classPrivateFieldLooseKey(\"API_CONFIG\");var _API_URL=/*#__PURE__*/_classPrivateFieldLooseKey(\"API_URL\");// Usage: import { networkAdapter } from 'path/to/NetworkAdapter.js';\n// Usage: const response = await networkAdapter.get('/api/hotel/123');\n// Usage: const response = await networkAdapter.post('/api/hotel', { name: 'Hotel Name' });\nclass NetworkAdapter{async get(endpoint){let params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const endpointURL=new URL(endpoint,_classPrivateFieldLooseBase(NetworkAdapter,_API_URL)[_API_URL]);try{const url=new URL(endpointURL,window.location.origin);Object.entries(params).forEach(_ref=>{let[key,value]=_ref;url.searchParams.append(key,value);});const response=await fetch(url.toString(),{credentials:'include'});return await response.json();}catch(error){return{data:{},errors:[error.message]};}}async post(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const endpointURL=new URL(endpoint,_classPrivateFieldLooseBase(NetworkAdapter,_API_URL)[_API_URL]);const url=new URL(endpointURL,window.location.origin);const response=await fetch(url.toString(),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data),credentials:'include'});return await response.json();}catch(error){return{data:{},errors:[error.message]};}}async put(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const endpointURL=new URL(endpoint,_classPrivateFieldLooseBase(NetworkAdapter,_API_URL)[_API_URL]);const url=new URL(endpointURL,window.location.origin);const response=await fetch(url.toString(),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(data),credentials:'include'});return await response.json();}catch(error){return{data:{},errors:[error.message]};}}async delete(endpoint){try{const endpointURL=new URL(endpoint,_classPrivateFieldLooseBase(NetworkAdapter,_API_URL)[_API_URL]);const url=new URL(endpointURL,window.location.origin);const response=await fetch(url.toString(),{method:'DELETE',credentials:'include'});return await response.json();}catch(error){return{data:{},errors:[error.message]};}}async patch(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const endpointURL=new URL(endpoint,_classPrivateFieldLooseBase(NetworkAdapter,_API_URL)[_API_URL]);const url=new URL(endpointURL,window.location.origin);const response=await fetch(url.toString(),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(data),credentials:'include'});return await response.json();}catch(error){return{data:{},errors:[error.message]};}}}_class=NetworkAdapter;Object.defineProperty(NetworkAdapter,_API_CONFIG,{writable:true,value:{MIRAGE:window.location.origin,EXPRESS:'http://localhost:4000'}});Object.defineProperty(NetworkAdapter,_API_URL,{writable:true,value:_classPrivateFieldLooseBase(_class,_API_CONFIG)[_API_CONFIG].MIRAGE});export const networkAdapter=new NetworkAdapter();","map":{"version":3,"names":["NetworkAdapter","get","endpoint","params","arguments","length","undefined","endpointURL","URL","_classPrivateFieldLooseBase","_API_URL","url","window","location","origin","Object","entries","forEach","_ref","key","value","searchParams","append","response","fetch","toString","credentials","json","error","data","errors","message","post","method","headers","body","JSON","stringify","put","delete","patch","_class","defineProperty","_API_CONFIG","writable","MIRAGE","EXPRESS","networkAdapter"],"sources":["E:/STAY-NOVA/stay-nova/src/services/NetworkAdapter.js"],"sourcesContent":["// Usage: import { networkAdapter } from 'path/to/NetworkAdapter.js';\n// Usage: const response = await networkAdapter.get('/api/hotel/123');\n// Usage: const response = await networkAdapter.post('/api/hotel', { name: 'Hotel Name' });\nclass NetworkAdapter {\n  static #API_CONFIG = {\n    MIRAGE: window.location.origin,\n    EXPRESS: 'http://localhost:4000',\n  };\n  static #API_URL = NetworkAdapter.#API_CONFIG.MIRAGE;\n  async get(endpoint, params = {}) {\n    const endpointURL = new URL(endpoint, NetworkAdapter.#API_URL);\n    try {\n      const url = new URL(endpointURL, window.location.origin);\n\n      Object.entries(params).forEach(([key, value]) => {\n        url.searchParams.append(key, value);\n      });\n\n      const response = await fetch(url.toString(), { credentials: 'include' });\n      return await response.json();\n    } catch (error) {\n      return {\n        data: {},\n        errors: [error.message],\n      };\n    }\n  }\n\n  async post(endpoint, data = {}) {\n    try {\n      const endpointURL = new URL(endpoint, NetworkAdapter.#API_URL);\n      const url = new URL(endpointURL, window.location.origin);\n      const response = await fetch(url.toString(), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n        credentials: 'include',\n      });\n\n      return await response.json();\n    } catch (error) {\n      return {\n        data: {},\n        errors: [error.message],\n      };\n    }\n  }\n\n  async put(endpoint, data = {}) {\n    try {\n      const endpointURL = new URL(endpoint, NetworkAdapter.#API_URL);\n      const url = new URL(endpointURL, window.location.origin);\n      const response = await fetch(url.toString(), {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n        credentials: 'include',\n      });\n\n      return await response.json();\n    } catch (error) {\n      return {\n        data: {},\n        errors: [error.message],\n      };\n    }\n  }\n\n  async delete(endpoint) {\n    try {\n      const endpointURL = new URL(endpoint, NetworkAdapter.#API_URL);\n      const url = new URL(endpointURL, window.location.origin);\n      const response = await fetch(url.toString(), {\n        method: 'DELETE',\n        credentials: 'include',\n      });\n\n      return await response.json();\n    } catch (error) {\n      return {\n        data: {},\n        errors: [error.message],\n      };\n    }\n  }\n\n  async patch(endpoint, data = {}) {\n    try {\n      const endpointURL = new URL(endpoint, NetworkAdapter.#API_URL);\n      const url = new URL(endpointURL, window.location.origin);\n      const response = await fetch(url.toString(), {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n        credentials: 'include',\n      });\n\n      return await response.json();\n    } catch (error) {\n      return {\n        data: {},\n        errors: [error.message],\n      };\n    }\n  }\n}\n\nexport const networkAdapter = new NetworkAdapter();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}