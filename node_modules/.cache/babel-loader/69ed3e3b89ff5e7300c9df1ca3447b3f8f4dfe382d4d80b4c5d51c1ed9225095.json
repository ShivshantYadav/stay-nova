{"ast":null,"code":"var _jsxFileName = \"E:\\\\STAY-NOVA\\\\stay-nova\\\\src\\\\routes\\\\user-profile\\\\UserProfile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Tabs from 'components/ux/tabs/Tabs';\nimport TabPanel from 'components/ux/tab-panel/TabPanel';\nimport { faAddressCard, faHotel, faCreditCard } from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from 'contexts/AuthContext';\nimport { networkAdapter } from 'services/NetworkAdapter';\nimport { useContext } from 'react';\nimport PaymentMethodsPanel from './components/PaymentsMethodsPanel';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars } from '@fortawesome/free-solid-svg-icons';\nimport { faXmark } from '@fortawesome/free-solid-svg-icons';\nimport useOutsideClickHandler from 'hooks/useOutsideClickHandler';\nimport { useNavigate } from 'react-router-dom';\nimport BookingPanel from './components/BookingPanel';\nimport ProfileDetailsPanel from './components/ProfileDetailsPanel';\n\n/**\n * UserProfile\n * Renders the user profile page with tabs for personal details, bookings, and payment methods.\n * @returns {JSX.Element} - The UserProfile component\n * */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserProfile = () => {\n  _s();\n  const {\n    userDetails\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const wrapperRef = useRef();\n  const buttonRef = useRef();\n  const [isTabsVisible, setIsTabsVisible] = useState(false);\n\n  // Fetch user bookings data\n  const [userBookingsData, setUserBookingsData] = useState({\n    isLoading: true,\n    data: [],\n    errors: []\n  });\n\n  // Fetch user payment methods data\n  const [userPaymentMethodsData, setUserPaymentMethodsData] = useState({\n    isLoading: true,\n    data: [],\n    errors: []\n  });\n  useOutsideClickHandler(wrapperRef, event => {\n    if (!buttonRef.current.contains(event.target)) {\n      setIsTabsVisible(false);\n    }\n  });\n  const onTabsMenuButtonAction = () => {\n    setIsTabsVisible(!isTabsVisible);\n  };\n\n  // effect to set initial state of user details\n  useEffect(() => {\n    if (!userDetails) {\n      navigate('/login');\n    }\n  }, [navigate, userDetails]);\n\n  // effect to set initial state of user bookings data\n  useEffect(() => {\n    const getInitialData = async () => {\n      const userBookingsDataResponse = await networkAdapter.get('/api/users/bookings');\n      const userPaymentMethodsResponse = await networkAdapter.get('api/users/payment-methods');\n      if (userBookingsDataResponse && userBookingsDataResponse.data) {\n        setUserBookingsData({\n          isLoading: false,\n          data: userBookingsDataResponse.data.elements,\n          errors: userBookingsDataResponse.errors\n        });\n      }\n      if (userPaymentMethodsResponse && userPaymentMethodsResponse.data) {\n        setUserPaymentMethodsData({\n          isLoading: false,\n          data: userPaymentMethodsResponse.data.elements,\n          errors: userPaymentMethodsResponse.errors\n        });\n      }\n    };\n    getInitialData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-4 my-10 min-h-[530px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: buttonRef,\n          onClick: onTabsMenuButtonAction,\n          className: \"block md:hidden items-center px-4 py-1.5 border border-gray-300 font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: isTabsVisible ? faXmark : faBars,\n            size: \"lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n        isTabsVisible: isTabsVisible,\n        wrapperRef: wrapperRef,\n        children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n          label: \"Personal Details\",\n          icon: faAddressCard,\n          children: /*#__PURE__*/_jsxDEV(ProfileDetailsPanel, {\n            userDetails: userDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          label: \"Bookings\",\n          icon: faHotel,\n          children: /*#__PURE__*/_jsxDEV(BookingPanel, {\n            bookings: userBookingsData.data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          label: \"Payment details\",\n          icon: faCreditCard,\n          children: /*#__PURE__*/_jsxDEV(PaymentMethodsPanel, {\n            userPaymentMethodsData: userPaymentMethodsData,\n            setUserPaymentMethodsData: setUserPaymentMethodsData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UserProfile, \"MJjojxEvztKwFFJS8lad6aATj3U=\", false, function () {\n  return [useNavigate, useOutsideClickHandler];\n});\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Tabs","TabPanel","faAddressCard","faHotel","faCreditCard","AuthContext","networkAdapter","useContext","PaymentMethodsPanel","FontAwesomeIcon","faBars","faXmark","useOutsideClickHandler","useNavigate","BookingPanel","ProfileDetailsPanel","jsxDEV","_jsxDEV","Fragment","_Fragment","UserProfile","_s","userDetails","navigate","wrapperRef","buttonRef","isTabsVisible","setIsTabsVisible","userBookingsData","setUserBookingsData","isLoading","data","errors","userPaymentMethodsData","setUserPaymentMethodsData","event","current","contains","target","onTabsMenuButtonAction","getInitialData","userBookingsDataResponse","get","userPaymentMethodsResponse","elements","children","className","ref","onClick","icon","size","fileName","_jsxFileName","lineNumber","columnNumber","label","bookings","_c","$RefreshReg$"],"sources":["E:/STAY-NOVA/stay-nova/src/routes/user-profile/UserProfile.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Tabs from 'components/ux/tabs/Tabs';\nimport TabPanel from 'components/ux/tab-panel/TabPanel';\nimport {\n  faAddressCard,\n  faHotel,\n  faCreditCard,\n} from '@fortawesome/free-solid-svg-icons';\nimport { AuthContext } from 'contexts/AuthContext';\nimport { networkAdapter } from 'services/NetworkAdapter';\nimport { useContext } from 'react';\nimport PaymentMethodsPanel from './components/PaymentsMethodsPanel';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars } from '@fortawesome/free-solid-svg-icons';\nimport { faXmark } from '@fortawesome/free-solid-svg-icons';\nimport useOutsideClickHandler from 'hooks/useOutsideClickHandler';\nimport { useNavigate } from 'react-router-dom';\nimport BookingPanel from './components/BookingPanel';\nimport ProfileDetailsPanel from './components/ProfileDetailsPanel';\n\n/**\n * UserProfile\n * Renders the user profile page with tabs for personal details, bookings, and payment methods.\n * @returns {JSX.Element} - The UserProfile component\n * */\nconst UserProfile = () => {\n  const { userDetails } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const wrapperRef = useRef();\n  const buttonRef = useRef();\n\n  const [isTabsVisible, setIsTabsVisible] = useState(false);\n\n  // Fetch user bookings data\n  const [userBookingsData, setUserBookingsData] = useState({\n    isLoading: true,\n    data: [],\n    errors: [],\n  });\n\n  // Fetch user payment methods data\n  const [userPaymentMethodsData, setUserPaymentMethodsData] = useState({\n    isLoading: true,\n    data: [],\n    errors: [],\n  });\n\n  useOutsideClickHandler(wrapperRef, (event) => {\n    if (!buttonRef.current.contains(event.target)) {\n      setIsTabsVisible(false);\n    }\n  });\n\n  const onTabsMenuButtonAction = () => {\n    setIsTabsVisible(!isTabsVisible);\n  };\n\n  // effect to set initial state of user details\n  useEffect(() => {\n    if (!userDetails) {\n      navigate('/login');\n    }\n  }, [navigate, userDetails]);\n\n  // effect to set initial state of user bookings data\n  useEffect(() => {\n    const getInitialData = async () => {\n      const userBookingsDataResponse = await networkAdapter.get(\n        '/api/users/bookings'\n      );\n      const userPaymentMethodsResponse = await networkAdapter.get(\n        'api/users/payment-methods'\n      );\n      if (userBookingsDataResponse && userBookingsDataResponse.data) {\n        setUserBookingsData({\n          isLoading: false,\n          data: userBookingsDataResponse.data.elements,\n          errors: userBookingsDataResponse.errors,\n        });\n      }\n      if (userPaymentMethodsResponse && userPaymentMethodsResponse.data) {\n        setUserPaymentMethodsData({\n          isLoading: false,\n          data: userPaymentMethodsResponse.data.elements,\n          errors: userPaymentMethodsResponse.errors,\n        });\n      }\n    };\n    getInitialData();\n  }, []);\n\n  return (\n    <>\n      <div className=\"container mx-auto p-4 my-10 min-h-[530px]\">\n        <div className=\"mx-4\">\n          <button\n            ref={buttonRef}\n            onClick={onTabsMenuButtonAction}\n            className=\"block md:hidden items-center px-4 py-1.5 border border-gray-300 font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            <FontAwesomeIcon\n              icon={isTabsVisible ? faXmark : faBars}\n              size=\"lg\"\n            />\n          </button>\n        </div>\n        <Tabs isTabsVisible={isTabsVisible} wrapperRef={wrapperRef}>\n          <TabPanel label=\"Personal Details\" icon={faAddressCard}>\n            <ProfileDetailsPanel userDetails={userDetails} />\n          </TabPanel>\n          <TabPanel label=\"Bookings\" icon={faHotel}>\n            <BookingPanel bookings={userBookingsData.data} />\n          </TabPanel>\n          <TabPanel label=\"Payment details\" icon={faCreditCard}>\n            <PaymentMethodsPanel\n              userPaymentMethodsData={userPaymentMethodsData}\n              setUserPaymentMethodsData={setUserPaymentMethodsData}\n            />\n          </TabPanel>\n        </Tabs>\n      </div>\n    </>\n  );\n};\n\nexport default UserProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}