{"ast":null,"code":"import HotelViewCard from'components/hotel-view-card/HotelViewCard';import VerticalFilters from'components/vertical-filters/VerticalFilters';import HotelViewCardSkeleton from'components/hotel-view-card-skeleton/HotelViewCardSkeleton';import VerticalFiltersSkeleton from'components/vertical-filters-skeleton/VerticalFiltersSkeleton';import EmptyHotelsState from'components/empty-hotels-state/EmptyHotelsState';import{useRef,useState}from'react';import useOutsideClickHandler from'hooks/useOutsideClickHandler';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faFilter}from'@fortawesome/free-solid-svg-icons';import Select from'react-select';/**\n * ResultsContainer Component\n * Renders a container that displays hotel results, including hotel cards and filters.\n * It supports toggling of vertical filters and displays skeletons or empty states based on loading or data availability.\n *\n * @param {Object} props - Props for the component.\n * @param {Object} props.hotelsResults - Object containing hotel results data and loading state.\n * @param {boolean} props.enableFilters - Flag to enable or disable the filter feature.\n * @param {Array} props.filtersData - Array of filter data objects for the vertical filters.\n * @param {Array} props.selectedFiltersState - Array of selected filter states.\n * @param {Function} props.onFiltersUpdate - Callback function to handle filter updates.\n * @param {Function} props.onClearFiltersAction - Callback function to handle the action of clearing filters.\n * @param {Array} props.sortingFilterOptions - Array of sorting filter options.\n * @param {Object} props.sortByFilterValue - Object containing the selected sorting filter value.\n * @param {Function} props.onSortingFilterChange - Callback function to handle sorting filter changes.\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultsContainer=props=>{const{hotelsResults,enableFilters,filtersData,selectedFiltersState,onFiltersUpdate,onClearFiltersAction,sortingFilterOptions,sortByFilterValue,onSortingFilterChange}=props;// Check if sorting filter is visible\nconst isSortingFilterVisible=sortingFilterOptions&&sortingFilterOptions.length>0;const[isVerticalFiltersOpen,setIsVerticalFiltersOpen]=useState(false);const wrapperRef=useRef();const buttonRef=useRef();useOutsideClickHandler(wrapperRef,event=>{if(!buttonRef.current.contains(event.target)){setIsVerticalFiltersOpen(false);}});const toggleVerticalFiltersAction=()=>{// Toggle based on the current state\nsetIsVerticalFiltersOpen(prevState=>!prevState);};return/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-x-0 md:gap-x-4 items-start mx-2\",children:[enableFilters&&selectedFiltersState.length>0&&/*#__PURE__*/_jsx(\"div\",{ref:wrapperRef,children:/*#__PURE__*/_jsx(VerticalFilters,{filtersData:selectedFiltersState,onFiltersUpdate:onFiltersUpdate,onClearFiltersAction:onClearFiltersAction,isVerticalFiltersOpen:isVerticalFiltersOpen})}),enableFilters&&filtersData.isLoading&&/*#__PURE__*/_jsx(VerticalFiltersSkeleton,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full justify-between px-2 md:px-0\",children:[enableFilters&&/*#__PURE__*/_jsx(\"div\",{className:\"vertical-filters__toggle-menu block md:hidden\",children:/*#__PURE__*/_jsxs(\"button\",{ref:buttonRef,\"data-testid\":\"vertical-filters__toggle-menu\",onClick:toggleVerticalFiltersAction,className:\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilter,size:\"sm\",className:\"mr-1\"}),' ',\"Filters\"]})}),isSortingFilterVisible&&/*#__PURE__*/_jsx(Select,{value:sortByFilterValue,onChange:onSortingFilterChange,options:sortingFilterOptions,className:\"mb-2 w-[180px] text-sm\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hotels-results__container mx-2 md:mx-0 flex flex-col gap-y-2 w-full\",children:hotelsResults.isLoading?Array.from({length:5},(_,index)=>/*#__PURE__*/_jsx(HotelViewCardSkeleton,{},index)):hotelsResults.data.length>0?hotelsResults.data.map(hotel=>/*#__PURE__*/_jsx(HotelViewCard,{id:hotel.hotelCode,title:hotel.title,image:hotel.images[0],subtitle:hotel.subtitle,benefits:hotel.benefits,ratings:hotel.ratings,price:hotel.price},hotel.hotelCode)):/*#__PURE__*/_jsx(EmptyHotelsState,{})})]})]})});};export default ResultsContainer;","map":{"version":3,"names":["HotelViewCard","VerticalFilters","HotelViewCardSkeleton","VerticalFiltersSkeleton","EmptyHotelsState","useRef","useState","useOutsideClickHandler","FontAwesomeIcon","faFilter","Select","jsx","_jsx","jsxs","_jsxs","ResultsContainer","props","hotelsResults","enableFilters","filtersData","selectedFiltersState","onFiltersUpdate","onClearFiltersAction","sortingFilterOptions","sortByFilterValue","onSortingFilterChange","isSortingFilterVisible","length","isVerticalFiltersOpen","setIsVerticalFiltersOpen","wrapperRef","buttonRef","event","current","contains","target","toggleVerticalFiltersAction","prevState","className","children","ref","isLoading","onClick","icon","size","value","onChange","options","Array","from","_","index","data","map","hotel","id","hotelCode","title","image","images","subtitle","benefits","ratings","price"],"sources":["E:/STAY-NOVA/stay-nova/src/components/results-container/ResultsContainer.jsx"],"sourcesContent":["import HotelViewCard from 'components/hotel-view-card/HotelViewCard';\nimport VerticalFilters from 'components/vertical-filters/VerticalFilters';\nimport HotelViewCardSkeleton from 'components/hotel-view-card-skeleton/HotelViewCardSkeleton';\nimport VerticalFiltersSkeleton from 'components/vertical-filters-skeleton/VerticalFiltersSkeleton';\nimport EmptyHotelsState from 'components/empty-hotels-state/EmptyHotelsState';\nimport { useRef, useState } from 'react';\nimport useOutsideClickHandler from 'hooks/useOutsideClickHandler';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFilter } from '@fortawesome/free-solid-svg-icons';\nimport Select from 'react-select';\n\n/**\n * ResultsContainer Component\n * Renders a container that displays hotel results, including hotel cards and filters.\n * It supports toggling of vertical filters and displays skeletons or empty states based on loading or data availability.\n *\n * @param {Object} props - Props for the component.\n * @param {Object} props.hotelsResults - Object containing hotel results data and loading state.\n * @param {boolean} props.enableFilters - Flag to enable or disable the filter feature.\n * @param {Array} props.filtersData - Array of filter data objects for the vertical filters.\n * @param {Array} props.selectedFiltersState - Array of selected filter states.\n * @param {Function} props.onFiltersUpdate - Callback function to handle filter updates.\n * @param {Function} props.onClearFiltersAction - Callback function to handle the action of clearing filters.\n * @param {Array} props.sortingFilterOptions - Array of sorting filter options.\n * @param {Object} props.sortByFilterValue - Object containing the selected sorting filter value.\n * @param {Function} props.onSortingFilterChange - Callback function to handle sorting filter changes.\n */\nconst ResultsContainer = (props) => {\n  const {\n    hotelsResults,\n    enableFilters,\n    filtersData,\n    selectedFiltersState,\n    onFiltersUpdate,\n    onClearFiltersAction,\n    sortingFilterOptions,\n    sortByFilterValue,\n    onSortingFilterChange,\n  } = props;\n\n  // Check if sorting filter is visible\n  const isSortingFilterVisible =\n    sortingFilterOptions && sortingFilterOptions.length > 0;\n\n  const [isVerticalFiltersOpen, setIsVerticalFiltersOpen] = useState(false);\n\n  const wrapperRef = useRef();\n  const buttonRef = useRef();\n\n  useOutsideClickHandler(wrapperRef, (event) => {\n    if (!buttonRef.current.contains(event.target)) {\n      setIsVerticalFiltersOpen(false);\n    }\n  });\n\n  const toggleVerticalFiltersAction = () => {\n    // Toggle based on the current state\n    setIsVerticalFiltersOpen((prevState) => !prevState);\n  };\n\n  return (\n    <div className=\"relative\">\n      <div className=\"flex gap-x-0 md:gap-x-4 items-start mx-2\">\n        {enableFilters && selectedFiltersState.length > 0 && (\n          <div ref={wrapperRef}>\n            <VerticalFilters\n              filtersData={selectedFiltersState}\n              onFiltersUpdate={onFiltersUpdate}\n              onClearFiltersAction={onClearFiltersAction}\n              isVerticalFiltersOpen={isVerticalFiltersOpen}\n            />\n          </div>\n        )}\n        {enableFilters && filtersData.isLoading && <VerticalFiltersSkeleton />}\n        <div className=\"flex flex-col w-full items-start\">\n          <div className=\"flex w-full justify-between px-2 md:px-0\">\n            {enableFilters && (\n              <div className=\"vertical-filters__toggle-menu block md:hidden\">\n                <button\n                  ref={buttonRef}\n                  data-testid=\"vertical-filters__toggle-menu\"\n                  onClick={toggleVerticalFiltersAction}\n                  className=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                >\n                  <FontAwesomeIcon icon={faFilter} size=\"sm\" className=\"mr-1\" />{' '}\n                  Filters\n                </button>\n              </div>\n            )}\n            {isSortingFilterVisible && (\n              <Select\n                value={sortByFilterValue}\n                onChange={onSortingFilterChange}\n                options={sortingFilterOptions}\n                className=\"mb-2 w-[180px] text-sm\"\n              />\n            )}\n          </div>\n          <div className=\"hotels-results__container mx-2 md:mx-0 flex flex-col gap-y-2 w-full\">\n            {hotelsResults.isLoading ? (\n              Array.from({ length: 5 }, (_, index) => (\n                <HotelViewCardSkeleton key={index} />\n              ))\n            ) : hotelsResults.data.length > 0 ? (\n              hotelsResults.data.map((hotel) => (\n                <HotelViewCard\n                  key={hotel.hotelCode}\n                  id={hotel.hotelCode}\n                  title={hotel.title}\n                  image={hotel.images[0]}\n                  subtitle={hotel.subtitle}\n                  benefits={hotel.benefits}\n                  ratings={hotel.ratings}\n                  price={hotel.price}\n                />\n              ))\n            ) : (\n              <EmptyHotelsState />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultsContainer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}