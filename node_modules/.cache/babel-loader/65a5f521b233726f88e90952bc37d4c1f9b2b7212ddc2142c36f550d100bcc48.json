{"ast":null,"code":"import { createServer, Model, Response } from 'miragejs';\nimport hotelsData from './data/hotels.json';\nimport countriesData from './data/countries.json';\nexport function makeServer({\n  environment = 'development'\n} = {}) {\n  let server = createServer({\n    environment,\n    models: {\n      user: Model\n      // Define other models here if needed\n    },\n    seeds(server) {\n      server.create('user', {\n        id: '1',\n        email: 'user1@gmail..com',\n        password: 'user1123',\n        firstName: 'Shivshant',\n        lastName: 'Yadav',\n        fullName: 'Shivshant Yadav',\n        phone: '1234567890',\n        country: 'India',\n        isPhoneVerified: true,\n        isEmailVerified: true\n      });\n      server.create('user', {\n        id: '2',\n        email: 'user2@gmail.com',\n        password: 'user2123',\n        firstName: '',\n        lastName: 'Doe',\n        fullName: 'Jane Doe',\n        phone: '0987654321',\n        country: 'UK',\n        isPhoneVerified: false,\n        isEmailVerified: true\n      });\n    },\n    routes() {\n      this.namespace = 'api';\n\n      // Add a logged-in user state to the server\n      let loggedInUser = null;\n      this.passthrough('http://localhost:4000/*');\n      this.get('/users/auth-user', () => {\n        if (loggedInUser) {\n          return new Response(200, {}, {\n            errors: [],\n            data: {\n              isAuthenticated: true,\n              userDetails: {\n                id: loggedInUser.id,\n                firstName: loggedInUser.firstName,\n                lastName: loggedInUser.lastName,\n                fullName: loggedInUser.fullName,\n                email: loggedInUser.email,\n                phone: loggedInUser.phone,\n                country: loggedInUser.country,\n                isPhoneVerified: loggedInUser.isPhoneVerified,\n                isEmailVerified: loggedInUser.isEmailVerified\n              }\n            }\n          });\n        } else {\n          return new Response(200, {}, {\n            errors: [],\n            data: {\n              isAuthenticated: false,\n              userDetails: {}\n            }\n          });\n        }\n      });\n      this.post('/users/login', (schema, request) => {\n        const attrs = JSON.parse(request.requestBody);\n        const user = schema.users.findBy({\n          email: attrs.email\n        });\n        if (user && user.password === attrs.password) {\n          loggedInUser = user;\n          return new Response(200, {}, {\n            data: {\n              token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiSm9obiBKb2huIiwiaWQiOjEsImlhdCI6MTcwNzU0NTQ5MSwiZXhwIjoxNzA3NTQ5MDkxfQ.dxweIMZGiCuiViov1EfLtu3UwanUMp7TjL85hMDW4rc'\n            },\n            errors: []\n          });\n        } else {\n          return new Response(404, {}, {\n            errors: ['User not found or invalid credentials'],\n            data: {}\n          });\n        }\n      });\n      this.post('/users/logout', (_schema, _request) => {\n        loggedInUser = null;\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            status: 'User logged out successfully'\n          }\n        });\n      });\n      this.put('/users/register', (schema, request) => {\n        const attrs = JSON.parse(request.requestBody);\n        const existingUser = schema.users.findBy({\n          email: attrs.email\n        });\n        if (existingUser) {\n          return new Response(409, {}, {\n            errors: ['User already exists with that email']\n          });\n        } else {\n          // Create a new user\n          const newUser = schema.users.create({\n            firstName: attrs.firstName,\n            lastName: attrs.lastName,\n            email: attrs.email,\n            phone: attrs.phone,\n            password: attrs.password\n          });\n          return new Response(200, {}, {\n            errors: [],\n            user: newUser.attrs\n          });\n        }\n      });\n      this.patch('/users/update-profile', (schema, request) => {\n        const attrs = JSON.parse(request.requestBody);\n        const user = schema.users.findBy({\n          email: loggedInUser.email\n        });\n        if (user) {\n          user.update(attrs);\n          return new Response(200, {}, {\n            errors: [],\n            data: {\n              status: 'Profile updated successfully'\n            }\n          });\n        } else {\n          return new Response(404, {}, {\n            errors: ['User not found'],\n            data: {}\n          });\n        }\n      });\n      this.get('/users/bookings', () => {\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: [{\n              bookingId: 'BKG123',\n              bookingDate: '2024-01-10',\n              hotelName: 'Seaside Resort',\n              checkInDate: '2024-01-20',\n              checkOutDate: '2024-01-25',\n              totalFare: '₹14,500'\n            }, {\n              bookingId: 'BKG124',\n              bookingDate: '2024-01-03',\n              hotelName: 'Mountain Retreat',\n              checkInDate: '2024-02-15',\n              checkOutDate: '2024-02-20',\n              totalFare: '₹5,890'\n            }, {\n              bookingId: 'BKG125',\n              bookingDate: '2024-01-11',\n              hotelName: 'City Central Hotel',\n              checkInDate: '2024-03-01',\n              checkOutDate: '2024-03-05',\n              totalFare: '₹21,700'\n            }]\n          }\n        });\n      });\n      this.get('/users/payment-methods', () => {\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: [{\n              id: '1',\n              cardType: 'Visa',\n              cardNumber: '**** **** **** 1234',\n              expiryDate: '08/26'\n            }, {\n              id: '2',\n              cardType: 'MasterCard',\n              cardNumber: '**** **** **** 5678',\n              expiryDate: '07/24'\n            }, {\n              id: '3',\n              cardType: 'American Express',\n              cardNumber: '**** **** **** 9012',\n              expiryDate: '05/25'\n            }]\n          }\n        });\n      });\n      this.get('/hotel/:hotelId/booking/enquiry', (_schema, request) => {\n        let hotelId = request.params.hotelId;\n        const result = hotelsData.find(hotel => {\n          return Number(hotel.hotelCode) === Number(hotelId);\n        });\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            name: result.title,\n            cancellationPolicy: 'Free cancellation 1 day prior to stay',\n            checkInTime: '12:00 PM',\n            checkOutTime: '10:00 AM',\n            currentNightRate: result.price,\n            maxGuestsAllowed: 5,\n            maxRoomsAllowedPerGuest: 3\n          }\n        });\n      });\n      this.get('/popularDestinations', () => {\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: [{\n              code: 1211,\n              name: 'Mumbai',\n              imageUrl: '/images/cities/mumbai.jpg'\n            }, {\n              code: 1212,\n              name: 'Bangkok',\n              imageUrl: '/images/cities/bangkok.jpg'\n            }, {\n              code: 1213,\n              name: 'London',\n              imageUrl: '/images/cities/london.jpg'\n            }, {\n              code: 1214,\n              name: 'Dubai',\n              imageUrl: '/images/cities/dubai.jpg'\n            }, {\n              code: 1215,\n              name: 'Oslo',\n              imageUrl: '/images/cities/oslo.jpg'\n            }]\n          }\n        });\n      });\n      this.get('/nearbyHotels', () => {\n        const hotels = hotelsData.filter(hotel => {\n          return hotel.city === 'pune';\n        });\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: hotels\n          }\n        });\n      });\n      this.get('/hotel/:hotelId', (_schema, request) => {\n        let hotelId = request.params.hotelId;\n        const description = ['A serene stay awaits at our plush hotel, offering a blend of luxury and comfort with top-notch amenities.', 'Experience the pinnacle of elegance in our beautifully designed rooms with stunning cityscape views.', 'Indulge in gastronomic delights at our in-house restaurants, featuring local and international cuisines.', 'Unwind in our state-of-the-art spa and wellness center, a perfect retreat for the senses.', 'Located in the heart of the city, our hotel is the ideal base for both leisure and business travelers.'];\n        const result = hotelsData.find(hotel => {\n          return Number(hotel.hotelCode) === Number(hotelId);\n        });\n        result.description = description;\n        return new Response(200, {}, {\n          errors: [],\n          data: result\n        });\n      });\n      this.get('/hotel/:hotelId/reviews', (_schema, request) => {\n        // hardcoded hotelId for now so to not add mock for each hotel\n        const currentPage = request.queryParams.currentPage;\n        let hotelId = 71222;\n        const result = hotelsData.find(hotel => {\n          return Number(hotel.hotelCode) === Number(hotelId);\n        });\n        const totalRatings = result.reviews.data.reduce((acc, review) => acc + review.rating, 0);\n        const initialCounts = {\n          5: 0,\n          4: 0,\n          3: 0,\n          2: 0,\n          1: 0\n        };\n        const starCounts = result.reviews.data.reduce((acc, review) => {\n          const ratingKey = Math.floor(review.rating).toString();\n          if (acc.hasOwnProperty(ratingKey)) {\n            acc[ratingKey]++;\n          }\n          return acc;\n        }, initialCounts);\n        const metadata = {\n          totalReviews: result.reviews.data.length,\n          averageRating: (totalRatings / result.reviews.data.length).toFixed(1),\n          starCounts\n        };\n\n        //paging\n        const pageSize = 5;\n        const paging = {\n          currentPage: currentPage || 1,\n          totalPages: Math.floor((result.reviews.data.length - 1) / pageSize) + 1,\n          pageSize\n        };\n\n        // paginated data\n        const data = result.reviews.data.slice((paging.currentPage - 1) * pageSize, paging.currentPage * pageSize);\n        return {\n          errors: [],\n          data: {\n            elements: data\n          },\n          metadata,\n          paging\n        };\n      });\n      this.put('/hotel/add-review', (schema, request) => {\n        // const attrs = JSON.parse(request.requestBody);\n        // const hotelId = attrs.hotelId;\n        // const review = attrs.review;\n        // const rating = attrs.rating;\n        // const user = schema.users.findBy({ email: attrs.email });\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            status: 'Review added successfully'\n          }\n        });\n      });\n      this.get('/hotels', (_schema, request) => {\n        let currentPage = request.queryParams.currentPage;\n        const filters = request.queryParams.filters;\n        const parsedFilters = JSON.parse(filters);\n        const parsedAdvancedFilters = JSON.parse(request.queryParams.advancedFilters);\n        const city = parsedFilters.city;\n        const star_ratings = parsedFilters.star_ratings;\n        const priceFilter = parsedFilters.priceFilter;\n        const sortByFilter = parsedAdvancedFilters.find(filter => {\n          return filter.sortBy;\n        });\n        const filteredResults = hotelsData.filter(hotel => {\n          const hotelRating = parseFloat(hotel.ratings);\n          const hotelPrice = parseFloat(hotel.price.replace(',', ''));\n          const isCityMatch = city === '' || hotel.city === city;\n          const isPriceMatch = !priceFilter || hotelPrice >= parseFloat(priceFilter.start) && hotelPrice <= parseFloat(priceFilter.end);\n          if (isCityMatch && isPriceMatch) {\n            if (star_ratings && star_ratings.length > 0) {\n              return star_ratings.some(selectedRating => {\n                const selected = parseFloat(selectedRating);\n                const range = 0.5;\n                return Math.abs(hotelRating - selected) <= range;\n              });\n            } else {\n              // If no star ratings are provided, return all hotels for the city (or all cities if city is empty)\n              return true;\n            }\n          }\n          return false;\n        });\n        if (sortByFilter) {\n          const sortType = sortByFilter.sortBy;\n          if (sortType === 'priceLowToHigh') {\n            filteredResults.sort((a, b) => {\n              return a.price - b.price;\n            });\n          }\n          if (sortType === 'priceHighToLow') {\n            filteredResults.sort((a, b) => {\n              return b.price - a.price;\n            });\n          }\n        }\n\n        // pagination config\n        const pageSize = 6;\n        const totalPages = Math.floor((filteredResults.length - 1) / pageSize) + 1;\n        currentPage = currentPage > totalPages ? totalPages : currentPage;\n        const paging = {\n          currentPage: currentPage || 1,\n          totalPages: Math.floor((filteredResults.length - 1) / pageSize) + 1,\n          pageSize\n        };\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: filteredResults.slice((paging.currentPage - 1) * pageSize, paging.currentPage * pageSize)\n          },\n          metadata: {\n            totalResults: filteredResults.length\n          },\n          paging\n        });\n      });\n      this.get('/availableCities', () => {\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: ['pune', 'bangalore', 'mumbai']\n          }\n        });\n      });\n      this.get('/hotels/verticalFilters', () => {\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: [{\n              filterId: 'star_ratings',\n              title: 'Star ratings',\n              filters: [{\n                id: '5_star_rating',\n                title: '5 Star',\n                value: '5'\n              }, {\n                id: '4_star_rating',\n                title: '4 Star',\n                value: '4'\n              }, {\n                id: '3_star_rating',\n                title: '3 Star',\n                value: '3'\n              }]\n            }, {\n              filterId: 'propety_type',\n              title: 'Property type',\n              filters: [{\n                id: 'prop_type_hotel',\n                title: 'Hotel'\n              }, {\n                id: 'prop_type_apartment',\n                title: 'Apartment'\n              }, {\n                id: 'prop_type_villa',\n                title: 'Villa'\n              }]\n            }]\n          }\n        });\n      });\n      this.post('/payments/confirmation', () => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            resolve(new Response(200, {}, {\n              errors: [],\n              data: {\n                status: 'Payment successful',\n                bookingDetails: [{\n                  label: 'Booking ID',\n                  value: 'BKG123'\n                }, {\n                  label: 'Booking Date',\n                  value: '2024-01-10'\n                }, {\n                  label: 'Hotel Name',\n                  value: 'Seaside Resort'\n                }, {\n                  label: 'Check-in Date',\n                  value: '2024-01-20'\n                }, {\n                  label: 'Check-out Date',\n                  value: '2024-01-25'\n                }, {\n                  label: 'Total Fare',\n                  value: '₹14,500'\n                }]\n              }\n            }));\n          }, 6000); // 2000 milliseconds = 2 seconds\n        });\n      });\n      this.get('/misc/countries', () => {\n        return new Response(200, {}, {\n          errors: [],\n          data: {\n            elements: countriesData\n          }\n        });\n      });\n    }\n  });\n  return server;\n}","map":{"version":3,"names":["createServer","Model","Response","hotelsData","countriesData","makeServer","environment","server","models","user","seeds","create","id","email","password","firstName","lastName","fullName","phone","country","isPhoneVerified","isEmailVerified","routes","namespace","loggedInUser","passthrough","get","errors","data","isAuthenticated","userDetails","post","schema","request","attrs","JSON","parse","requestBody","users","findBy","token","_schema","_request","status","put","existingUser","newUser","patch","update","elements","bookingId","bookingDate","hotelName","checkInDate","checkOutDate","totalFare","cardType","cardNumber","expiryDate","hotelId","params","result","find","hotel","Number","hotelCode","name","title","cancellationPolicy","checkInTime","checkOutTime","currentNightRate","price","maxGuestsAllowed","maxRoomsAllowedPerGuest","code","imageUrl","hotels","filter","city","description","currentPage","queryParams","totalRatings","reviews","reduce","acc","review","rating","initialCounts","starCounts","ratingKey","Math","floor","toString","hasOwnProperty","metadata","totalReviews","length","averageRating","toFixed","pageSize","paging","totalPages","slice","filters","parsedFilters","parsedAdvancedFilters","advancedFilters","star_ratings","priceFilter","sortByFilter","sortBy","filteredResults","hotelRating","parseFloat","ratings","hotelPrice","replace","isCityMatch","isPriceMatch","start","end","some","selectedRating","selected","range","abs","sortType","sort","a","b","totalResults","filterId","value","Promise","resolve","setTimeout","bookingDetails","label"],"sources":["E:/STAY-NOVA/stay-nova/src/mirage/mirageServer.js"],"sourcesContent":["import { createServer, Model, Response } from 'miragejs';\nimport hotelsData from './data/hotels.json';\nimport countriesData from './data/countries.json';\n\nexport function makeServer({ environment = 'development' } = {}) {\n  let server = createServer({\n    environment,\n\n    models: {\n      user: Model,\n      // Define other models here if needed\n    },\n\n    seeds(server) {\n      server.create('user', {\n        id: '1',\n        email: 'user1@gmail..com',\n        password: 'user1123',\n        firstName: 'Shivshant',\n        lastName: 'Yadav',\n        fullName: 'Shivshant Yadav',\n        phone: '1234567890',\n        country: 'India',\n        isPhoneVerified: true,\n        isEmailVerified: true,\n      });\n      server.create('user', {\n        id: '2',\n        email: 'user2@gmail.com',\n        password: 'user2123',\n        firstName: '',\n        lastName: 'Doe',\n        fullName: 'Jane Doe',\n        phone: '0987654321',\n        country: 'UK',\n        isPhoneVerified: false,\n        isEmailVerified: true,\n      });\n    },\n\n    routes() {\n      this.namespace = 'api';\n\n      // Add a logged-in user state to the server\n      let loggedInUser = null;\n\n      this.passthrough('http://localhost:4000/*');\n\n      this.get('/users/auth-user', () => {\n        if (loggedInUser) {\n          return new Response(\n            200,\n            {},\n            {\n              errors: [],\n              data: {\n                isAuthenticated: true,\n                userDetails: {\n                  id: loggedInUser.id,\n                  firstName: loggedInUser.firstName,\n                  lastName: loggedInUser.lastName,\n                  fullName: loggedInUser.fullName,\n                  email: loggedInUser.email,\n                  phone: loggedInUser.phone,\n                  country: loggedInUser.country,\n                  isPhoneVerified: loggedInUser.isPhoneVerified,\n                  isEmailVerified: loggedInUser.isEmailVerified,\n                },\n              },\n            }\n          );\n        } else {\n          return new Response(\n            200,\n            {},\n            {\n              errors: [],\n              data: {\n                isAuthenticated: false,\n                userDetails: {},\n              },\n            }\n          );\n        }\n      });\n\n      this.post('/users/login', (schema, request) => {\n        const attrs = JSON.parse(request.requestBody);\n        const user = schema.users.findBy({ email: attrs.email });\n\n        if (user && user.password === attrs.password) {\n          loggedInUser = user;\n          return new Response(\n            200,\n            {},\n            {\n              data: {\n                token:\n                  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiSm9obiBKb2huIiwiaWQiOjEsImlhdCI6MTcwNzU0NTQ5MSwiZXhwIjoxNzA3NTQ5MDkxfQ.dxweIMZGiCuiViov1EfLtu3UwanUMp7TjL85hMDW4rc',\n              },\n              errors: [],\n            }\n          );\n        } else {\n          return new Response(\n            404,\n            {},\n            {\n              errors: ['User not found or invalid credentials'],\n              data: {},\n            }\n          );\n        }\n      });\n\n      this.post('/users/logout', (_schema, _request) => {\n        loggedInUser = null;\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              status: 'User logged out successfully',\n            },\n          }\n        );\n      });\n\n      this.put('/users/register', (schema, request) => {\n        const attrs = JSON.parse(request.requestBody);\n        const existingUser = schema.users.findBy({ email: attrs.email });\n\n        if (existingUser) {\n          return new Response(\n            409,\n            {},\n            { errors: ['User already exists with that email'] }\n          );\n        } else {\n          // Create a new user\n          const newUser = schema.users.create({\n            firstName: attrs.firstName,\n            lastName: attrs.lastName,\n            email: attrs.email,\n            phone: attrs.phone,\n            password: attrs.password,\n          });\n          return new Response(\n            200,\n            {},\n            {\n              errors: [],\n              user: newUser.attrs,\n            }\n          );\n        }\n      });\n\n      this.patch('/users/update-profile', (schema, request) => {\n        const attrs = JSON.parse(request.requestBody);\n        const user = schema.users.findBy({ email: loggedInUser.email });\n\n        if (user) {\n          user.update(attrs);\n          return new Response(\n            200,\n            {},\n            {\n              errors: [],\n              data: {\n                status: 'Profile updated successfully',\n              },\n            }\n          );\n        } else {\n          return new Response(\n            404,\n            {},\n            {\n              errors: ['User not found'],\n              data: {},\n            }\n          );\n        }\n      });\n\n      this.get('/users/bookings', () => {\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: [\n                {\n                  bookingId: 'BKG123',\n                  bookingDate: '2024-01-10',\n                  hotelName: 'Seaside Resort',\n                  checkInDate: '2024-01-20',\n                  checkOutDate: '2024-01-25',\n                  totalFare: '₹14,500',\n                },\n                {\n                  bookingId: 'BKG124',\n                  bookingDate: '2024-01-03',\n                  hotelName: 'Mountain Retreat',\n                  checkInDate: '2024-02-15',\n                  checkOutDate: '2024-02-20',\n                  totalFare: '₹5,890',\n                },\n                {\n                  bookingId: 'BKG125',\n                  bookingDate: '2024-01-11',\n                  hotelName: 'City Central Hotel',\n                  checkInDate: '2024-03-01',\n                  checkOutDate: '2024-03-05',\n                  totalFare: '₹21,700',\n                },\n              ],\n            },\n          }\n        );\n      });\n\n      this.get('/users/payment-methods', () => {\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: [\n                {\n                  id: '1',\n                  cardType: 'Visa',\n                  cardNumber: '**** **** **** 1234',\n                  expiryDate: '08/26',\n                },\n                {\n                  id: '2',\n                  cardType: 'MasterCard',\n                  cardNumber: '**** **** **** 5678',\n                  expiryDate: '07/24',\n                },\n                {\n                  id: '3',\n                  cardType: 'American Express',\n                  cardNumber: '**** **** **** 9012',\n                  expiryDate: '05/25',\n                },\n              ],\n            },\n          }\n        );\n      });\n\n      this.get('/hotel/:hotelId/booking/enquiry', (_schema, request) => {\n        let hotelId = request.params.hotelId;\n        const result = hotelsData.find((hotel) => {\n          return Number(hotel.hotelCode) === Number(hotelId);\n        });\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              name: result.title,\n              cancellationPolicy: 'Free cancellation 1 day prior to stay',\n              checkInTime: '12:00 PM',\n              checkOutTime: '10:00 AM',\n              currentNightRate: result.price,\n              maxGuestsAllowed: 5,\n              maxRoomsAllowedPerGuest: 3,\n            },\n          }\n        );\n      });\n\n      this.get('/popularDestinations', () => {\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: [\n                {\n                  code: 1211,\n                  name: 'Mumbai',\n                  imageUrl: '/images/cities/mumbai.jpg',\n                },\n                {\n                  code: 1212,\n                  name: 'Bangkok',\n                  imageUrl: '/images/cities/bangkok.jpg',\n                },\n                {\n                  code: 1213,\n                  name: 'London',\n                  imageUrl: '/images/cities/london.jpg',\n                },\n                {\n                  code: 1214,\n                  name: 'Dubai',\n                  imageUrl: '/images/cities/dubai.jpg',\n                },\n                {\n                  code: 1215,\n                  name: 'Oslo',\n                  imageUrl: '/images/cities/oslo.jpg',\n                },\n              ],\n            },\n          }\n        );\n      });\n\n      this.get('/nearbyHotels', () => {\n        const hotels = hotelsData.filter((hotel) => {\n          return hotel.city === 'pune';\n        });\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: hotels,\n            },\n          }\n        );\n      });\n\n      this.get('/hotel/:hotelId', (_schema, request) => {\n        let hotelId = request.params.hotelId;\n        const description = [\n          'A serene stay awaits at our plush hotel, offering a blend of luxury and comfort with top-notch amenities.',\n          'Experience the pinnacle of elegance in our beautifully designed rooms with stunning cityscape views.',\n          'Indulge in gastronomic delights at our in-house restaurants, featuring local and international cuisines.',\n          'Unwind in our state-of-the-art spa and wellness center, a perfect retreat for the senses.',\n          'Located in the heart of the city, our hotel is the ideal base for both leisure and business travelers.',\n        ];\n\n        const result = hotelsData.find((hotel) => {\n          return Number(hotel.hotelCode) === Number(hotelId);\n        });\n\n        result.description = description;\n\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: result,\n          }\n        );\n      });\n\n      this.get('/hotel/:hotelId/reviews', (_schema, request) => {\n        // hardcoded hotelId for now so to not add mock for each hotel\n        const currentPage = request.queryParams.currentPage;\n        let hotelId = 71222;\n        const result = hotelsData.find((hotel) => {\n          return Number(hotel.hotelCode) === Number(hotelId);\n        });\n        const totalRatings = result.reviews.data.reduce(\n          (acc, review) => acc + review.rating,\n          0\n        );\n        const initialCounts = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\n        const starCounts = result.reviews.data.reduce((acc, review) => {\n          const ratingKey = Math.floor(review.rating).toString();\n          if (acc.hasOwnProperty(ratingKey)) {\n            acc[ratingKey]++;\n          }\n          return acc;\n        }, initialCounts);\n\n        const metadata = {\n          totalReviews: result.reviews.data.length,\n          averageRating: (totalRatings / result.reviews.data.length).toFixed(1),\n          starCounts,\n        };\n\n        //paging\n        const pageSize = 5;\n        const paging = {\n          currentPage: currentPage || 1,\n          totalPages:\n            Math.floor((result.reviews.data.length - 1) / pageSize) + 1,\n          pageSize,\n        };\n\n        // paginated data\n        const data = result.reviews.data.slice(\n          (paging.currentPage - 1) * pageSize,\n          paging.currentPage * pageSize\n        );\n\n        return {\n          errors: [],\n          data: {\n            elements: data,\n          },\n          metadata,\n          paging,\n        };\n      });\n\n      this.put('/hotel/add-review', (schema, request) => {\n        // const attrs = JSON.parse(request.requestBody);\n        // const hotelId = attrs.hotelId;\n        // const review = attrs.review;\n        // const rating = attrs.rating;\n        // const user = schema.users.findBy({ email: attrs.email });\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              status: 'Review added successfully',\n            },\n          }\n        );\n      });\n\n      this.get('/hotels', (_schema, request) => {\n        let currentPage = request.queryParams.currentPage;\n        const filters = request.queryParams.filters;\n        const parsedFilters = JSON.parse(filters);\n        const parsedAdvancedFilters = JSON.parse(\n          request.queryParams.advancedFilters\n        );\n        const city = parsedFilters.city;\n        const star_ratings = parsedFilters.star_ratings;\n        const priceFilter = parsedFilters.priceFilter;\n        const sortByFilter = parsedAdvancedFilters.find((filter) => {\n          return filter.sortBy;\n        });\n\n        const filteredResults = hotelsData.filter((hotel) => {\n          const hotelRating = parseFloat(hotel.ratings);\n          const hotelPrice = parseFloat(hotel.price.replace(',', ''));\n          const isCityMatch = city === '' || hotel.city === city;\n          const isPriceMatch =\n            !priceFilter ||\n            (hotelPrice >= parseFloat(priceFilter.start) &&\n              hotelPrice <= parseFloat(priceFilter.end));\n\n          if (isCityMatch && isPriceMatch) {\n            if (star_ratings && star_ratings.length > 0) {\n              return star_ratings.some((selectedRating) => {\n                const selected = parseFloat(selectedRating);\n                const range = 0.5;\n                return Math.abs(hotelRating - selected) <= range;\n              });\n            } else {\n              // If no star ratings are provided, return all hotels for the city (or all cities if city is empty)\n              return true;\n            }\n          }\n          return false;\n        });\n\n        if (sortByFilter) {\n          const sortType = sortByFilter.sortBy;\n          if (sortType === 'priceLowToHigh') {\n            filteredResults.sort((a, b) => {\n              return a.price - b.price;\n            });\n          }\n          if (sortType === 'priceHighToLow') {\n            filteredResults.sort((a, b) => {\n              return b.price - a.price;\n            });\n          }\n        }\n\n        // pagination config\n        const pageSize = 6;\n        const totalPages =\n          Math.floor((filteredResults.length - 1) / pageSize) + 1;\n        currentPage = currentPage > totalPages ? totalPages : currentPage;\n        const paging = {\n          currentPage: currentPage || 1,\n          totalPages: Math.floor((filteredResults.length - 1) / pageSize) + 1,\n          pageSize,\n        };\n\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: filteredResults.slice(\n                (paging.currentPage - 1) * pageSize,\n                paging.currentPage * pageSize\n              ),\n            },\n            metadata: {\n              totalResults: filteredResults.length,\n            },\n            paging,\n          }\n        );\n      });\n\n      this.get('/availableCities', () => {\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: ['pune', 'bangalore', 'mumbai'],\n            },\n          }\n        );\n      });\n\n      this.get('/hotels/verticalFilters', () => {\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: [\n                {\n                  filterId: 'star_ratings',\n                  title: 'Star ratings',\n                  filters: [\n                    {\n                      id: '5_star_rating',\n                      title: '5 Star',\n                      value: '5',\n                    },\n                    {\n                      id: '4_star_rating',\n                      title: '4 Star',\n                      value: '4',\n                    },\n                    {\n                      id: '3_star_rating',\n                      title: '3 Star',\n                      value: '3',\n                    },\n                  ],\n                },\n                {\n                  filterId: 'propety_type',\n                  title: 'Property type',\n                  filters: [\n                    {\n                      id: 'prop_type_hotel',\n                      title: 'Hotel',\n                    },\n                    {\n                      id: 'prop_type_apartment',\n                      title: 'Apartment',\n                    },\n                    {\n                      id: 'prop_type_villa',\n                      title: 'Villa',\n                    },\n                  ],\n                },\n              ],\n            },\n          }\n        );\n      });\n\n      this.post('/payments/confirmation', () => {\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(\n              new Response(\n                200,\n                {},\n                {\n                  errors: [],\n                  data: {\n                    status: 'Payment successful',\n                    bookingDetails: [\n                      {\n                        label: 'Booking ID',\n                        value: 'BKG123',\n                      },\n                      {\n                        label: 'Booking Date',\n                        value: '2024-01-10',\n                      },\n                      {\n                        label: 'Hotel Name',\n                        value: 'Seaside Resort',\n                      },\n                      {\n                        label: 'Check-in Date',\n                        value: '2024-01-20',\n                      },\n                      {\n                        label: 'Check-out Date',\n                        value: '2024-01-25',\n                      },\n                      {\n                        label: 'Total Fare',\n                        value: '₹14,500',\n                      },\n                    ],\n                  },\n                }\n              )\n            );\n          }, 6000); // 2000 milliseconds = 2 seconds\n        });\n      });\n\n      this.get('/misc/countries', () => {\n        return new Response(\n          200,\n          {},\n          {\n            errors: [],\n            data: {\n              elements: countriesData,\n            },\n          }\n        );\n      });\n    },\n  });\n\n  return server;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}