{"ast":null,"code":"var _jsxFileName = \"E:\\\\STAY-NOVA\\\\stay-nova\\\\src\\\\routes\\\\hotel-details\\\\components\\\\user-reviews\\\\UserReviews.jsx\",\n  _s = $RefreshSig$();\nimport Review from './components/Review';\nimport React, { useState } from 'react';\nimport RatingsOverview from './components/RatingsOverview';\nimport UserRatingsSelector from './components/UserRatingsSelector';\nimport { networkAdapter } from 'services/NetworkAdapter';\nimport Toast from 'components/ux/toast/Toast';\nimport PaginationController from 'components/ux/pagination-controller/PaginationController';\nimport Loader from 'components/ux/loader/loader';\n\n/**\n * Renders the user reviews component.\n *\n * @component\n * @param {Object} reviewData - The review data object.\n * @returns {JSX.Element} The user reviews component.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserReviews = ({\n  reviewData,\n  handlePageChange,\n  handlePreviousPageChange,\n  handleNextPageChange\n}) => {\n  _s();\n  const [userRating, setUserRating] = useState(0);\n  const [userReview, setUserReview] = useState('');\n  const [shouldHideUserRatingsSelector, setShouldHideUserRatingsSelector] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n\n  /**\n   * Handles the selected user rating.\n   * @param {number} rate - The rating value.\n   */\n  const handleRating = rate => {\n    setUserRating(rate);\n  };\n  const clearToastMessage = () => {\n    setToastMessage('');\n  };\n  const handleReviewSubmit = async () => {\n    if (userRating === 0) {\n      setToastMessage({\n        type: 'error',\n        message: 'Please select a rating before submitting.'\n      });\n      return;\n    }\n    // TODO: Add validation for userRating and userReview\n    const response = await networkAdapter.put('/api/hotel/add-review', {\n      rating: userRating,\n      review: userReview\n    });\n    if (response && response.errors.length === 0 && response.data.status) {\n      setToastMessage({\n        type: 'success',\n        message: response.data.status\n      });\n    } else {\n      setToastMessage({\n        type: 'error',\n        message: 'Review submission failed'\n      });\n    }\n    setShouldHideUserRatingsSelector(true);\n  };\n  const handleUserReviewChange = review => {\n    setUserReview(review);\n  };\n  const isEmpty = reviewData.data.length === 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col p-4 border-t\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-xl font-bold text-gray-700\",\n      children: \"User Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row py-4 bg-white shadow-sm gap-6\",\n      children: [reviewData.data.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/5\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500 italic\",\n          children: \"Be the first to leave a review!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(RatingsOverview, {\n        averageRating: reviewData.metadata.averageRating,\n        ratingsCount: reviewData.metadata.totalReviews,\n        starCounts: reviewData.metadata.starCounts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), shouldHideUserRatingsSelector ? null : /*#__PURE__*/_jsxDEV(UserRatingsSelector, {\n        userRating: userRating,\n        isEmpty: isEmpty,\n        handleRating: handleRating,\n        userReview: userReview,\n        handleReviewSubmit: handleReviewSubmit,\n        handleUserReviewChange: handleUserReviewChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), toastMessage && /*#__PURE__*/_jsxDEV(Toast, {\n      type: toastMessage.type,\n      message: toastMessage.message,\n      dismissError: clearToastMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: reviewData.isLoading ? /*#__PURE__*/_jsxDEV(Loader, {\n        height: '600px'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: reviewData.data.map((review, index) => /*#__PURE__*/_jsxDEV(Review, {\n          reviewerName: review.reviewerName,\n          reviewDate: review.date,\n          review: review.review,\n          rating: review.rating,\n          verified: review.verified\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), reviewData.data.length > 0 && /*#__PURE__*/_jsxDEV(PaginationController, {\n      currentPage: reviewData.pagination.currentPage,\n      totalPages: reviewData.pagination.totalPages,\n      handlePageChange: handlePageChange,\n      handlePreviousPageChange: handlePreviousPageChange,\n      handleNextPageChange: handleNextPageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(UserReviews, \"j4Il0ZEvfwV5HhWMxHfs9h6ACG4=\");\n_c = UserReviews;\nexport default UserReviews;\nvar _c;\n$RefreshReg$(_c, \"UserReviews\");","map":{"version":3,"names":["Review","React","useState","RatingsOverview","UserRatingsSelector","networkAdapter","Toast","PaginationController","Loader","jsxDEV","_jsxDEV","UserReviews","reviewData","handlePageChange","handlePreviousPageChange","handleNextPageChange","_s","userRating","setUserRating","userReview","setUserReview","shouldHideUserRatingsSelector","setShouldHideUserRatingsSelector","toastMessage","setToastMessage","handleRating","rate","clearToastMessage","handleReviewSubmit","type","message","response","put","rating","review","errors","length","data","status","handleUserReviewChange","isEmpty","className","children","fileName","_jsxFileName","lineNumber","columnNumber","averageRating","metadata","ratingsCount","totalReviews","starCounts","dismissError","isLoading","height","map","index","reviewerName","reviewDate","date","verified","currentPage","pagination","totalPages","_c","$RefreshReg$"],"sources":["E:/STAY-NOVA/stay-nova/src/routes/hotel-details/components/user-reviews/UserReviews.jsx"],"sourcesContent":["import Review from './components/Review';\nimport React, { useState } from 'react';\nimport RatingsOverview from './components/RatingsOverview';\nimport UserRatingsSelector from './components/UserRatingsSelector';\nimport { networkAdapter } from 'services/NetworkAdapter';\nimport Toast from 'components/ux/toast/Toast';\nimport PaginationController from 'components/ux/pagination-controller/PaginationController';\nimport Loader from 'components/ux/loader/loader';\n\n/**\n * Renders the user reviews component.\n *\n * @component\n * @param {Object} reviewData - The review data object.\n * @returns {JSX.Element} The user reviews component.\n */\nconst UserReviews = ({\n  reviewData,\n  handlePageChange,\n  handlePreviousPageChange,\n  handleNextPageChange,\n}) => {\n  const [userRating, setUserRating] = useState(0);\n\n  const [userReview, setUserReview] = useState('');\n\n  const [shouldHideUserRatingsSelector, setShouldHideUserRatingsSelector] =\n    useState(false);\n\n  const [toastMessage, setToastMessage] = useState('');\n\n  /**\n   * Handles the selected user rating.\n   * @param {number} rate - The rating value.\n   */\n  const handleRating = (rate) => {\n    setUserRating(rate);\n  };\n\n  const clearToastMessage = () => {\n    setToastMessage('');\n  };\n\n  const handleReviewSubmit = async () => {\n    if (userRating === 0) {\n      setToastMessage({\n        type: 'error',\n        message: 'Please select a rating before submitting.',\n      });\n      return;\n    }\n    // TODO: Add validation for userRating and userReview\n    const response = await networkAdapter.put('/api/hotel/add-review', {\n      rating: userRating,\n      review: userReview,\n    });\n    if (response && response.errors.length === 0 && response.data.status) {\n      setToastMessage({\n        type: 'success',\n        message: response.data.status,\n      });\n    } else {\n      setToastMessage({\n        type: 'error',\n        message: 'Review submission failed',\n      });\n    }\n    setShouldHideUserRatingsSelector(true);\n  };\n\n  const handleUserReviewChange = (review) => {\n    setUserReview(review);\n  };\n\n  const isEmpty = reviewData.data.length === 0;\n\n  return (\n    <div className=\"flex flex-col p-4 border-t\">\n      <h1 className=\"text-xl font-bold text-gray-700\">User Reviews</h1>\n      <div className=\"flex flex-col md:flex-row py-4 bg-white shadow-sm gap-6\">\n        {reviewData.data.length === 0 ? (\n          <div className=\"w-3/5\">\n            <span className=\"text-gray-500 italic\">\n              Be the first to leave a review!\n            </span>\n          </div>\n        ) : (\n          <RatingsOverview\n            averageRating={reviewData.metadata.averageRating}\n            ratingsCount={reviewData.metadata.totalReviews}\n            starCounts={reviewData.metadata.starCounts}\n          />\n        )}\n        {shouldHideUserRatingsSelector ? null : (\n          <UserRatingsSelector\n            userRating={userRating}\n            isEmpty={isEmpty}\n            handleRating={handleRating}\n            userReview={userReview}\n            handleReviewSubmit={handleReviewSubmit}\n            handleUserReviewChange={handleUserReviewChange}\n          />\n        )}\n      </div>\n      {toastMessage && (\n        <Toast\n          type={toastMessage.type}\n          message={toastMessage.message}\n          dismissError={clearToastMessage}\n        />\n      )}\n      <div>\n        {reviewData.isLoading ? (\n          <Loader height={'600px'} />\n        ) : (\n          <div>\n            {reviewData.data.map((review, index) => (\n              <Review\n                key={index}\n                reviewerName={review.reviewerName}\n                reviewDate={review.date}\n                review={review.review}\n                rating={review.rating}\n                verified={review.verified}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n      {reviewData.data.length > 0 && (\n        <PaginationController\n          currentPage={reviewData.pagination.currentPage}\n          totalPages={reviewData.pagination.totalPages}\n          handlePageChange={handlePageChange}\n          handlePreviousPageChange={handlePreviousPageChange}\n          handleNextPageChange={handleNextPageChange}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default UserReviews;\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,qBAAqB;AACxC,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,mBAAmB,MAAM,kCAAkC;AAClE,SAASC,cAAc,QAAQ,yBAAyB;AACxD,OAAOC,KAAK,MAAM,2BAA2B;AAC7C,OAAOC,oBAAoB,MAAM,0DAA0D;AAC3F,OAAOC,MAAM,MAAM,6BAA6B;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,MAAA,IAAAC,OAAA;AAOA,MAAMC,WAAW,GAAGA,CAAC;EACnBC,UAAU;EACVC,gBAAgB;EAChBC,wBAAwB;EACxBC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EAE/C,MAAM,CAACiB,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAM,CAACmB,6BAA6B,EAAEC,gCAAgC,CAAC,GACrEpB,QAAQ,CAAC,KAAK,CAAC;EAEjB,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;;EAEpD;AACF;AACA;AACA;EACE,MAAMuB,YAAY,GAAIC,IAAI,IAAK;IAC7BR,aAAa,CAACQ,IAAI,CAAC;EACrB,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9BH,eAAe,CAAC,EAAE,CAAC;EACrB,CAAC;EAED,MAAMI,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAIX,UAAU,KAAK,CAAC,EAAE;MACpBO,eAAe,CAAC;QACdK,IAAI,EAAE,OAAO;QACbC,OAAO,EAAE;MACX,CAAC,CAAC;MACF;IACF;IACA;IACA,MAAMC,QAAQ,GAAG,MAAM1B,cAAc,CAAC2B,GAAG,CAAC,uBAAuB,EAAE;MACjEC,MAAM,EAAEhB,UAAU;MAClBiB,MAAM,EAAEf;IACV,CAAC,CAAC;IACF,IAAIY,QAAQ,IAAIA,QAAQ,CAACI,MAAM,CAACC,MAAM,KAAK,CAAC,IAAIL,QAAQ,CAACM,IAAI,CAACC,MAAM,EAAE;MACpEd,eAAe,CAAC;QACdK,IAAI,EAAE,SAAS;QACfC,OAAO,EAAEC,QAAQ,CAACM,IAAI,CAACC;MACzB,CAAC,CAAC;IACJ,CAAC,MAAM;MACLd,eAAe,CAAC;QACdK,IAAI,EAAE,OAAO;QACbC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACAR,gCAAgC,CAAC,IAAI,CAAC;EACxC,CAAC;EAED,MAAMiB,sBAAsB,GAAIL,MAAM,IAAK;IACzCd,aAAa,CAACc,MAAM,CAAC;EACvB,CAAC;EAED,MAAMM,OAAO,GAAG5B,UAAU,CAACyB,IAAI,CAACD,MAAM,KAAK,CAAC;EAE5C,oBACE1B,OAAA;IAAK+B,SAAS,EAAC,4BAA4B;IAAAC,QAAA,gBACzChC,OAAA;MAAI+B,SAAS,EAAC,iCAAiC;MAAAC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjEpC,OAAA;MAAK+B,SAAS,EAAC,yDAAyD;MAAAC,QAAA,GACrE9B,UAAU,CAACyB,IAAI,CAACD,MAAM,KAAK,CAAC,gBAC3B1B,OAAA;QAAK+B,SAAS,EAAC,OAAO;QAAAC,QAAA,eACpBhC,OAAA;UAAM+B,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAAC;QAEvC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,gBAENpC,OAAA,CAACP,eAAe;QACd4C,aAAa,EAAEnC,UAAU,CAACoC,QAAQ,CAACD,aAAc;QACjDE,YAAY,EAAErC,UAAU,CAACoC,QAAQ,CAACE,YAAa;QAC/CC,UAAU,EAAEvC,UAAU,CAACoC,QAAQ,CAACG;MAAW;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CACF,EACAzB,6BAA6B,GAAG,IAAI,gBACnCX,OAAA,CAACN,mBAAmB;QAClBa,UAAU,EAAEA,UAAW;QACvBuB,OAAO,EAAEA,OAAQ;QACjBf,YAAY,EAAEA,YAAa;QAC3BN,UAAU,EAAEA,UAAW;QACvBS,kBAAkB,EAAEA,kBAAmB;QACvCW,sBAAsB,EAAEA;MAAuB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EACLvB,YAAY,iBACXb,OAAA,CAACJ,KAAK;MACJuB,IAAI,EAAEN,YAAY,CAACM,IAAK;MACxBC,OAAO,EAAEP,YAAY,CAACO,OAAQ;MAC9BsB,YAAY,EAAEzB;IAAkB;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CACF,eACDpC,OAAA;MAAAgC,QAAA,EACG9B,UAAU,CAACyC,SAAS,gBACnB3C,OAAA,CAACF,MAAM;QAAC8C,MAAM,EAAE;MAAQ;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAE3BpC,OAAA;QAAAgC,QAAA,EACG9B,UAAU,CAACyB,IAAI,CAACkB,GAAG,CAAC,CAACrB,MAAM,EAAEsB,KAAK,kBACjC9C,OAAA,CAACV,MAAM;UAELyD,YAAY,EAAEvB,MAAM,CAACuB,YAAa;UAClCC,UAAU,EAAExB,MAAM,CAACyB,IAAK;UACxBzB,MAAM,EAAEA,MAAM,CAACA,MAAO;UACtBD,MAAM,EAAEC,MAAM,CAACD,MAAO;UACtB2B,QAAQ,EAAE1B,MAAM,CAAC0B;QAAS,GALrBJ,KAAK;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMX,CACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EACLlC,UAAU,CAACyB,IAAI,CAACD,MAAM,GAAG,CAAC,iBACzB1B,OAAA,CAACH,oBAAoB;MACnBsD,WAAW,EAAEjD,UAAU,CAACkD,UAAU,CAACD,WAAY;MAC/CE,UAAU,EAAEnD,UAAU,CAACkD,UAAU,CAACC,UAAW;MAC7ClD,gBAAgB,EAAEA,gBAAiB;MACnCC,wBAAwB,EAAEA,wBAAyB;MACnDC,oBAAoB,EAAEA;IAAqB;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9B,EAAA,CA5HIL,WAAW;AAAAqD,EAAA,GAAXrD,WAAW;AA8HjB,eAAeA,WAAW;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}