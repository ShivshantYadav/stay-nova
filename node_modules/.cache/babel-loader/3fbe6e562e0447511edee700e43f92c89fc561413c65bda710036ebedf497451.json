{"ast":null,"code":"import{useState}from'react';import{Link}from'react-router-dom';import{networkAdapter}from'services/NetworkAdapter';import{useNavigate}from'react-router-dom';import Toast from'components/ux/toast/Toast';import{REGISTRATION_MESSAGES}from'utils/constants';import{Formik,Form,Field}from'formik';import Schemas from'utils/validation-schemas';/**\n * Register Component\n * Renders a registration form that allows new users to create an account.\n * It captures user input for personal information and credentials, submitting these to a registration endpoint.\n * Upon successful registration, the user is notified and redirected to the login page.\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[toastMessage,setToastMessage]=useState('');const[toastType,setToastType]=useState('success');const[showToast,setShowToast]=useState(false);/**\n   * Submits the registration form data to the server.\n   * It performs an asynchronous operation to post the form data to a registration endpoint.\n   * If registration is successful, a success message is displayed, and the user is redirected to the login page after a brief delay.\n   * Otherwise, the user is informed of the failure.\n   *\n   * @param {Object} e - The event object generated by the form submission.\n   */const handleSubmit=async values=>{const response=await networkAdapter.put('/api/users/register',values);console.log('response',response);if(response&&response.errors&&response.errors.length<1){setToastMessage(REGISTRATION_MESSAGES.SUCCESS);setShowToast(true);setTimeout(()=>navigate('/login'),2000);}else{setToastType('error');setToastMessage(response.errors[0]);setShowToast(true);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"register__form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-4 flex justify-center min-h-[600px] items-center\",children:/*#__PURE__*/_jsx(Formik,{initialValues:{firstName:'',lastName:'',email:'',phoneNumber:'',password:'',confirmPassword:''},validationSchema:Schemas.signupSchema,onSubmit:values=>handleSubmit(values),children:_ref=>{let{errors,touched}=_ref;return/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-lg p-4 shadow-md md:p-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-brand\",children:\"Join the Adventure!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Create your account and start your journey with us\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap mb-6 -mx-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-3 mb-6 md:w-1/2 md:mb-0 relative\",children:/*#__PURE__*/_jsx(Field,{name:\"firstName\",placeholder:\"First Name\",autoComplete:\"given-name\",className:\"\".concat(errors.firstName&&touched.firstName?'border-red-500':'',\" border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-3 md:w-1/2\",children:/*#__PURE__*/_jsx(Field,{name:\"lastName\",placeholder:\"Last Name\",autoComplete:\"family-name\",className:\"\".concat(errors.lastName&&touched.lastName?'border-red-500':'',\" border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white\")})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Field,{name:\"email\",placeholder:\"Email\",autoComplete:\"email\",className:\"\".concat(errors.email&&touched.email?'border-red-500':'',\" border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Field,{name:\"phoneNumber\",placeholder:\"Phone\",autoComplete:\"tel\",className:\"\".concat(errors.phoneNumber&&touched.phoneNumber?'border-red-500':'',\" border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Field,{name:\"password\",placeholder:\"Password\",autoComplete:\"new-password\",className:\"\".concat(errors.password&&touched.password?'border-red-500':'',\" border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Field,{name:\"confirmPassword\",placeholder:\"Confirm Password\",autoComplete:\"new-password\",className:\"\".concat(errors.confirmPassword&&touched.confirmPassword?'border-red-500':'',\" border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center w-full my-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full px-4 py-2 font-bold text-white rounded bg-brand hover:bg-blue-700 focus:outline-none focus:shadow-outline\",children:\"Register\"})}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"inline-block w-full text-lg text-center text-gray-500 align-baseline hover:text-blue-800\",children:\"Back to login\"}),showToast&&/*#__PURE__*/_jsx(Toast,{type:toastType,message:toastMessage,dismissError:true})]})});}})})})});};export default Register;","map":{"version":3,"names":["useState","Link","networkAdapter","useNavigate","Toast","REGISTRATION_MESSAGES","Formik","Form","Field","Schemas","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","navigate","toastMessage","setToastMessage","toastType","setToastType","showToast","setShowToast","handleSubmit","values","response","put","console","log","errors","length","SUCCESS","setTimeout","children","className","initialValues","firstName","lastName","email","phoneNumber","password","confirmPassword","validationSchema","signupSchema","onSubmit","_ref","touched","name","placeholder","autoComplete","concat","type","to","message","dismissError"],"sources":["E:/STAY-NOVA/stay-nova/src/routes/register/Register.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { networkAdapter } from 'services/NetworkAdapter';\nimport { useNavigate } from 'react-router-dom';\nimport Toast from 'components/ux/toast/Toast';\nimport { REGISTRATION_MESSAGES } from 'utils/constants';\nimport { Formik, Form, Field } from 'formik';\nimport Schemas from 'utils/validation-schemas';\n\n/**\n * Register Component\n * Renders a registration form that allows new users to create an account.\n * It captures user input for personal information and credentials, submitting these to a registration endpoint.\n * Upon successful registration, the user is notified and redirected to the login page.\n */\nconst Register = () => {\n  const navigate = useNavigate();\n  const [toastMessage, setToastMessage] = useState('');\n  const [toastType, setToastType] = useState('success');\n  const [showToast, setShowToast] = useState(false);\n\n  /**\n   * Submits the registration form data to the server.\n   * It performs an asynchronous operation to post the form data to a registration endpoint.\n   * If registration is successful, a success message is displayed, and the user is redirected to the login page after a brief delay.\n   * Otherwise, the user is informed of the failure.\n   *\n   * @param {Object} e - The event object generated by the form submission.\n   */\n  const handleSubmit = async (values) => {\n    const response = await networkAdapter.put('/api/users/register', values);\n    console.log('response', response);\n    if (response && response.errors && response.errors.length < 1) {\n      setToastMessage(REGISTRATION_MESSAGES.SUCCESS);\n      setShowToast(true);\n      setTimeout(() => navigate('/login'), 2000);\n    } else {\n      setToastType('error');\n      setToastMessage(response.errors[0]);\n      setShowToast(true);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"register__form\">\n        <div className=\"container mx-auto p-4 flex justify-center min-h-[600px] items-center\">\n          <Formik\n            initialValues={{\n              firstName: '',\n              lastName: '',\n              email: '',\n              phoneNumber: '',\n              password: '',\n              confirmPassword: '',\n            }}\n            validationSchema={Schemas.signupSchema}\n            onSubmit={(values) => handleSubmit(values)}\n          >\n            {({ errors, touched }) => (\n              <Form>\n                <div className=\"w-full max-w-lg p-4 shadow-md md:p-10\">\n                  <div className=\"mb-10 text-center\">\n                    <h2 className=\"text-3xl font-extrabold text-brand\">\n                      Join the Adventure!\n                    </h2>\n                    <p className=\"text-gray-500\">\n                      Create your account and start your journey with us\n                    </p>\n                  </div>\n                  <div className=\"flex flex-wrap mb-6 -mx-3\">\n                    <div className=\"w-full px-3 mb-6 md:w-1/2 md:mb-0 relative\">\n                      <Field\n                        name=\"firstName\"\n                        placeholder=\"First Name\"\n                        autoComplete=\"given-name\"\n                        className={`${errors.firstName && touched.firstName ? 'border-red-500' : ''} border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white`}\n                      />\n                    </div>\n                    <div className=\"w-full px-3 md:w-1/2\">\n                      <Field\n                        name=\"lastName\"\n                        placeholder=\"Last Name\"\n                        autoComplete=\"family-name\"\n                        className={`${errors.lastName && touched.lastName ? 'border-red-500' : ''} border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white`}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"mb-6\">\n                    <Field\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      autoComplete=\"email\"\n                      className={`${errors.email && touched.email ? 'border-red-500' : ''} border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white`}\n                    />\n                  </div>\n                  <div className=\"mb-6\">\n                    <Field\n                      name=\"phoneNumber\"\n                      placeholder=\"Phone\"\n                      autoComplete=\"tel\"\n                      className={`${errors.phoneNumber && touched.phoneNumber ? 'border-red-500' : ''} border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white`}\n                    />\n                  </div>\n                  <div className=\"mb-6\">\n                    <Field\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      autoComplete=\"new-password\"\n                      className={`${errors.password && touched.password ? 'border-red-500' : ''} border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white`}\n                    />\n                  </div>\n                  <div className=\"mb-6\">\n                    <Field\n                      name=\"confirmPassword\"\n                      placeholder=\"Confirm Password\"\n                      autoComplete=\"new-password\"\n                      className={`${errors.confirmPassword && touched.confirmPassword ? 'border-red-500' : ''} border block w-full px-4 py-3 mb leading-tight text-gray-700 bg-gray-200 rounded appearance-none focus:outline-none focus:bg-white`}\n                    />\n                  </div>\n                  <div className=\"flex items-center w-full my-3\">\n                    <button\n                      type=\"submit\"\n                      className=\"w-full px-4 py-2 font-bold text-white rounded bg-brand hover:bg-blue-700 focus:outline-none focus:shadow-outline\"\n                    >\n                      Register\n                    </button>\n                  </div>\n                  <Link\n                    to=\"/login\"\n                    className=\"inline-block w-full text-lg text-center text-gray-500 align-baseline hover:text-blue-800\"\n                  >\n                    Back to login\n                  </Link>\n                  {showToast && (\n                    <Toast\n                      type={toastType}\n                      message={toastMessage}\n                      dismissError\n                    />\n                  )}\n                </div>\n              </Form>\n            )}\n          </Formik>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Register;\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,cAAc,KAAQ,yBAAyB,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,2BAA2B,CAC7C,OAASC,qBAAqB,KAAQ,iBAAiB,CACvD,OAASC,MAAM,CAAEC,IAAI,CAAEC,KAAK,KAAQ,QAAQ,CAC5C,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAE9C;AACA;AACA;AACA;AACA;AACA,GALA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAMA,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACoB,SAAS,CAAEC,YAAY,CAAC,CAAGrB,QAAQ,CAAC,SAAS,CAAC,CACrD,KAAM,CAACsB,SAAS,CAAEC,YAAY,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAEjD;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KACE,KAAM,CAAAwB,YAAY,CAAG,KAAO,CAAAC,MAAM,EAAK,CACrC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAxB,cAAc,CAACyB,GAAG,CAAC,qBAAqB,CAAEF,MAAM,CAAC,CACxEG,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEH,QAAQ,CAAC,CACjC,GAAIA,QAAQ,EAAIA,QAAQ,CAACI,MAAM,EAAIJ,QAAQ,CAACI,MAAM,CAACC,MAAM,CAAG,CAAC,CAAE,CAC7DZ,eAAe,CAACd,qBAAqB,CAAC2B,OAAO,CAAC,CAC9CT,YAAY,CAAC,IAAI,CAAC,CAClBU,UAAU,CAAC,IAAMhB,QAAQ,CAAC,QAAQ,CAAC,CAAE,IAAI,CAAC,CAC5C,CAAC,IAAM,CACLI,YAAY,CAAC,OAAO,CAAC,CACrBF,eAAe,CAACO,QAAQ,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC,CACnCP,YAAY,CAAC,IAAI,CAAC,CACpB,CACF,CAAC,CAED,mBACEZ,IAAA,CAAAI,SAAA,EAAAmB,QAAA,cACEvB,IAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC7BvB,IAAA,QAAKwB,SAAS,CAAC,sEAAsE,CAAAD,QAAA,cACnFvB,IAAA,CAACL,MAAM,EACL8B,aAAa,CAAE,CACbC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EACnB,CAAE,CACFC,gBAAgB,CAAElC,OAAO,CAACmC,YAAa,CACvCC,QAAQ,CAAGpB,MAAM,EAAKD,YAAY,CAACC,MAAM,CAAE,CAAAS,QAAA,CAE1CY,IAAA,MAAC,CAAEhB,MAAM,CAAEiB,OAAQ,CAAC,CAAAD,IAAA,oBACnBnC,IAAA,CAACJ,IAAI,EAAA2B,QAAA,cACHrB,KAAA,QAAKsB,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpDrB,KAAA,QAAKsB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCvB,IAAA,OAAIwB,SAAS,CAAC,oCAAoC,CAAAD,QAAA,CAAC,qBAEnD,CAAI,CAAC,cACLvB,IAAA,MAAGwB,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,oDAE7B,CAAG,CAAC,EACD,CAAC,cACNrB,KAAA,QAAKsB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACxCvB,IAAA,QAAKwB,SAAS,CAAC,4CAA4C,CAAAD,QAAA,cACzDvB,IAAA,CAACH,KAAK,EACJwC,IAAI,CAAC,WAAW,CAChBC,WAAW,CAAC,YAAY,CACxBC,YAAY,CAAC,YAAY,CACzBf,SAAS,IAAAgB,MAAA,CAAKrB,MAAM,CAACO,SAAS,EAAIU,OAAO,CAACV,SAAS,CAAG,gBAAgB,CAAG,EAAE,uIAAsI,CAClN,CAAC,CACC,CAAC,cACN1B,IAAA,QAAKwB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,cACnCvB,IAAA,CAACH,KAAK,EACJwC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,WAAW,CACvBC,YAAY,CAAC,aAAa,CAC1Bf,SAAS,IAAAgB,MAAA,CAAKrB,MAAM,CAACQ,QAAQ,EAAIS,OAAO,CAACT,QAAQ,CAAG,gBAAgB,CAAG,EAAE,uIAAsI,CAChN,CAAC,CACC,CAAC,EACH,CAAC,cACN3B,IAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBvB,IAAA,CAACH,KAAK,EACJwC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,YAAY,CAAC,OAAO,CACpBf,SAAS,IAAAgB,MAAA,CAAKrB,MAAM,CAACS,KAAK,EAAIQ,OAAO,CAACR,KAAK,CAAG,gBAAgB,CAAG,EAAE,uIAAsI,CAC1M,CAAC,CACC,CAAC,cACN5B,IAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBvB,IAAA,CAACH,KAAK,EACJwC,IAAI,CAAC,aAAa,CAClBC,WAAW,CAAC,OAAO,CACnBC,YAAY,CAAC,KAAK,CAClBf,SAAS,IAAAgB,MAAA,CAAKrB,MAAM,CAACU,WAAW,EAAIO,OAAO,CAACP,WAAW,CAAG,gBAAgB,CAAG,EAAE,uIAAsI,CACtN,CAAC,CACC,CAAC,cACN7B,IAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBvB,IAAA,CAACH,KAAK,EACJwC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,YAAY,CAAC,cAAc,CAC3Bf,SAAS,IAAAgB,MAAA,CAAKrB,MAAM,CAACW,QAAQ,EAAIM,OAAO,CAACN,QAAQ,CAAG,gBAAgB,CAAG,EAAE,uIAAsI,CAChN,CAAC,CACC,CAAC,cACN9B,IAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBvB,IAAA,CAACH,KAAK,EACJwC,IAAI,CAAC,iBAAiB,CACtBC,WAAW,CAAC,kBAAkB,CAC9BC,YAAY,CAAC,cAAc,CAC3Bf,SAAS,IAAAgB,MAAA,CAAKrB,MAAM,CAACY,eAAe,EAAIK,OAAO,CAACL,eAAe,CAAG,gBAAgB,CAAG,EAAE,uIAAsI,CAC9N,CAAC,CACC,CAAC,cACN/B,IAAA,QAAKwB,SAAS,CAAC,+BAA+B,CAAAD,QAAA,cAC5CvB,IAAA,WACEyC,IAAI,CAAC,QAAQ,CACbjB,SAAS,CAAC,kHAAkH,CAAAD,QAAA,CAC7H,UAED,CAAQ,CAAC,CACN,CAAC,cACNvB,IAAA,CAACV,IAAI,EACHoD,EAAE,CAAC,QAAQ,CACXlB,SAAS,CAAC,0FAA0F,CAAAD,QAAA,CACrG,eAED,CAAM,CAAC,CACNZ,SAAS,eACRX,IAAA,CAACP,KAAK,EACJgD,IAAI,CAAEhC,SAAU,CAChBkC,OAAO,CAAEpC,YAAa,CACtBqC,YAAY,MACb,CACF,EACE,CAAC,CACF,CAAC,EACR,CACK,CAAC,CACN,CAAC,CACH,CAAC,CACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAvC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}