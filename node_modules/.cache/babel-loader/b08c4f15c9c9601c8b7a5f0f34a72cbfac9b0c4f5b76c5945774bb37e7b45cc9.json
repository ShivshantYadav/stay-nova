{"ast":null,"code":"import HotelBookingDetailsCard from'../hotel-booking-details-card/HotelBookingDetailsCard';import UserReviews from'../user-reviews/UserReviews';import{networkAdapter}from'services/NetworkAdapter';import React,{useEffect,useState}from'react';import ReactImageGallery from'react-image-gallery';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HotelDetailsViewCard=_ref=>{let{hotelDetails}=_ref;const images=hotelDetails.images.map(image=>({original:image.imageUrl,thumbnail:image.imageUrl,thumbnailClass:'h-[80px]',thumbnailLoading:'lazy'}));const[reviewData,setReviewData]=useState({isLoading:true,data:[]});const[currentReviewsPage,setCurrentReviewPage]=useState(1);const handlePageChange=page=>{setCurrentReviewPage(page);};const handlePreviousPageChange=()=>{setCurrentReviewPage(prev=>{if(prev<=1)return prev;return prev-1;});};const handleNextPageChange=()=>{setCurrentReviewPage(prev=>{if(prev>=reviewData.pagination.totalPages)return prev;return prev+1;});};useEffect(()=>{setReviewData({isLoading:true,data:[]});const fetchHotelReviews=async()=>{const response=await networkAdapter.get(\"/api/hotel/\".concat(hotelDetails.hotelCode,\"/reviews\"),{currentPage:currentReviewsPage});if(response&&response.data){setReviewData({isLoading:false,data:response.data.elements,metadata:response.metadata,pagination:response.paging});}};fetchHotelReviews();},[hotelDetails.hotelCode,currentReviewsPage]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-center flex-wrap md:flex-nowrap container mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[800px] bg-white shadow-lg rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",children:[/*#__PURE__*/_jsx(ReactImageGallery,{items:images,showPlayButton:false,showFullscreenButton:false}),hotelDetails.discount&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-0 right-0 m-4 px-2 py-1 bg-yellow-500 text-white font-semibold text-xs rounded\",children:[hotelDetails.discount,\" OFF\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-semibold text-gray-800 mb-2\",children:hotelDetails.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:hotelDetails.subtitle}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 space-y-2\",children:hotelDetails.description.map((line,index)=>/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:line},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mt-4\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:hotelDetails.benefits.join(' | ')})})})]})]}),/*#__PURE__*/_jsx(UserReviews,{reviewData:reviewData,handlePageChange:handlePageChange,handlePreviousPageChange:handlePreviousPageChange,handleNextPageChange:handleNextPageChange})]}),/*#__PURE__*/_jsx(HotelBookingDetailsCard,{hotelCode:hotelDetails.hotelCode})]});};export default HotelDetailsViewCard;","map":{"version":3,"names":["HotelBookingDetailsCard","UserReviews","networkAdapter","React","useEffect","useState","ReactImageGallery","jsx","_jsx","jsxs","_jsxs","HotelDetailsViewCard","_ref","hotelDetails","images","map","image","original","imageUrl","thumbnail","thumbnailClass","thumbnailLoading","reviewData","setReviewData","isLoading","data","currentReviewsPage","setCurrentReviewPage","handlePageChange","page","handlePreviousPageChange","prev","handleNextPageChange","pagination","totalPages","fetchHotelReviews","response","get","concat","hotelCode","currentPage","elements","metadata","paging","className","children","items","showPlayButton","showFullscreenButton","discount","title","subtitle","description","line","index","benefits","join"],"sources":["E:/STAY-NOVA/stay-nova/src/routes/hotel-details/components/hotel-details-view-card/HotelDetailsViewCard.jsx"],"sourcesContent":["import HotelBookingDetailsCard from '../hotel-booking-details-card/HotelBookingDetailsCard';\nimport UserReviews from '../user-reviews/UserReviews';\nimport { networkAdapter } from 'services/NetworkAdapter';\nimport React, { useEffect, useState } from 'react';\nimport ReactImageGallery from 'react-image-gallery';\n\nconst HotelDetailsViewCard = ({ hotelDetails }) => {\n  const images = hotelDetails.images.map((image) => ({\n    original: image.imageUrl,\n    thumbnail: image.imageUrl,\n    thumbnailClass: 'h-[80px]',\n    thumbnailLoading: 'lazy',\n  }));\n\n  const [reviewData, setReviewData] = useState({\n    isLoading: true,\n    data: [],\n  });\n  const [currentReviewsPage, setCurrentReviewPage] = useState(1);\n\n  const handlePageChange = (page) => {\n    setCurrentReviewPage(page);\n  };\n\n  const handlePreviousPageChange = () => {\n    setCurrentReviewPage((prev) => {\n      if (prev <= 1) return prev;\n      return prev - 1;\n    });\n  };\n\n  const handleNextPageChange = () => {\n    setCurrentReviewPage((prev) => {\n      if (prev >= reviewData.pagination.totalPages) return prev;\n      return prev + 1;\n    });\n  };\n\n  useEffect(() => {\n    setReviewData({\n      isLoading: true,\n      data: [],\n    });\n    const fetchHotelReviews = async () => {\n      const response = await networkAdapter.get(\n        `/api/hotel/${hotelDetails.hotelCode}/reviews`,\n        {\n          currentPage: currentReviewsPage,\n        }\n      );\n      if (response && response.data) {\n        setReviewData({\n          isLoading: false,\n          data: response.data.elements,\n          metadata: response.metadata,\n          pagination: response.paging,\n        });\n      }\n    };\n    fetchHotelReviews();\n  }, [hotelDetails.hotelCode, currentReviewsPage]);\n\n  return (\n    <div className=\"flex items-start justify-center flex-wrap md:flex-nowrap container mx-auto p-4\">\n      <div className=\"w-[800px] bg-white shadow-lg rounded-lg overflow-hidden\">\n        <div>\n          <div className=\"relative w-full\">\n            <ReactImageGallery\n              items={images}\n              showPlayButton={false}\n              showFullscreenButton={false}\n            />\n            {hotelDetails.discount && (\n              <div className=\"absolute top-0 right-0 m-4 px-2 py-1 bg-yellow-500 text-white font-semibold text-xs rounded\">\n                {hotelDetails.discount} OFF\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <h2 className=\"text-3xl font-semibold text-gray-800 mb-2\">\n              {hotelDetails.title}\n            </h2>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              {hotelDetails.subtitle}\n            </p>\n            <div className=\"mt-2 space-y-2\">\n              {hotelDetails.description.map((line, index) => (\n                <p key={index} className=\"text-gray-700\">\n                  {line}\n                </p>\n              ))}\n            </div>\n            <div className=\"flex justify-between items-center mt-4\">\n              <div>\n                <p className=\"text-sm text-gray-600\">\n                  {hotelDetails.benefits.join(' | ')}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <UserReviews\n          reviewData={reviewData}\n          handlePageChange={handlePageChange}\n          handlePreviousPageChange={handlePreviousPageChange}\n          handleNextPageChange={handleNextPageChange}\n        />\n      </div>\n      <HotelBookingDetailsCard hotelCode={hotelDetails.hotelCode} />\n    </div>\n  );\n};\n\nexport default HotelDetailsViewCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}